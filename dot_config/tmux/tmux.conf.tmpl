#───────────────────────────────────────────────────────────────
# Reload config
#───────────────────────────────────────────────────────────────
bind r source-file ~/.config/tmux/tmux.conf \; display "Reloaded."

#───────────────────────────────────────────────────────────────
# Prefix: Ctrl+Space
#───────────────────────────────────────────────────────────────
set -g prefix C-Space
unbind C-b
bind C-Space send-prefix

#───────────────────────────────────────────────────────────────
# Timing
#───────────────────────────────────────────────────────────────
set -g repeat-time 2000
set -sg escape-time 1

#───────────────────────────────────────────────────────────────
# Terminal colors
#───────────────────────────────────────────────────────────────
set -g default-terminal "tmux-256color"
set -ga terminal-overrides ",xterm-256color:Tc"

#───────────────────────────────────────────────────────────────
# Mouse
#───────────────────────────────────────────────────────────────
setw -g mouse on

#───────────────────────────────────────────────────────────────
# Index starts at 1
#───────────────────────────────────────────────────────────────
set -g base-index 1
setw -g pane-base-index 1

#───────────────────────────────────────────────────────────────
# Pane splits & navigation (vim-style)
#───────────────────────────────────────────────────────────────
bind-key v split-window -h -c "#{pane_current_path}"
bind-key h split-window -v -c "#{pane_current_path}"
bind-key + split-window -h -p 20 -c "#{pane_current_path}"
bind-key = split-window -v -p 20 -c "#{pane_current_path}"

bind-key c-h select-pane -L
bind-key c-l select-pane -R
bind-key c-k select-pane -U
bind-key c-j select-pane -D

bind -r H resize-pane -L 5
bind -r J resize-pane -D 5
bind -r K resize-pane -U 5
bind -r L resize-pane -R 5

set-window-option -g mode-keys vi

#───────────────────────────────────────────────────────────────
# Plugins
#───────────────────────────────────────────────────────────────
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-yank'
set -g @plugin 'tmux-plugins/tmux-resurrect'
set -g @plugin 'tmux-plugins/tmux-continuum'

#───────────────────────────────────────────────────────────────
# Catppuccin Mocha
#───────────────────────────────────────────────────────────────
set -g @plugin 'catppuccin/tmux#v2.1.3'
set -g @catppuccin_flavor 'mocha'
set -g @catppuccin_window_status_style "rounded"
set -g @catppuccin_status_modules_right "session date_time"
set -g @catppuccin_status_modules_left ""
set -g @catppuccin_date_time_text "%H:%M"

#───────────────────────────────────────────────────────────────
# Status bar position
#───────────────────────────────────────────────────────────────
set-option -g status-position top

#───────────────────────────────────────────────────────────────
# Claude Code Integration
#───────────────────────────────────────────────────────────────
bind a run-shell "~/.local/bin/tmux-claude toggle"
bind A run-shell "~/.local/bin/tmux-claude switch-layout"

#───────────────────────────────────────────────────────────────
# Initialize TPM (keep at bottom)
#───────────────────────────────────────────────────────────────
run '~/.tmux/plugins/tpm/tpm'
